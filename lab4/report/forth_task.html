<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4 завдання</title>
</head>
<body>
<h2>Масиви</h2>
<h3>Пащенко Ілля</h3>
<a href="./lab4/pash/task4.html">Посилання до сторінки</a>
<img src="./lab4/report/images/pash_task4.png" style="width: 50%;">
<h3>HTML</h3>
<pre>
<code>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Task 4&lt;/title&gt;_
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;Введіть кількість чисел в массиві&lt;/p&gt;
&lt;input id="input" type="text"&gt;
&lt;input id="confirm_bt" type="button" value="Confirm"&gt;
&lt;div id="result"&gt;
&lt;/div&gt;

&lt;script src="task4script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code>
</pre>
<h3>JS</h3>
<pre>
<code>
let input = document.getElementById("input");
let button = document.getElementById("confirm_bt");
let result_feed = document.getElementById("result");

button.addEventListener("click", function () {
    let array = createArrayRandom(input.value);
    let max = find_max_even(array);
    let min = find_min_id_even(array);
    result_feed.innerHTML += "<br>------------------------------------------"
    result_feed.innerHTML += "<br>Початковий: " + array.join(", ");
    result_feed.innerHTML += "<br>Максимальний парний: " + max;
    result_feed.innerHTML += "<br>Мінімальний з парним індексом: " + min;
    result_feed.innerHTML += "<br>Змінений: " + swap(array, max, min).join(", ");
    result_feed.innerHTML += "<br>Відсортований: " + insertion_sort(array).join(", ");
});

function createArrayRandom(amount) {
    let arr = [];
    while (arr.length < amount) {
        let r = Math.floor(Math.random() * amount * 5) + 1;
        if (arr.indexOf(r) === -1) arr.push(r);
    }
    return arr;
}

function find_max_even(array) {
    return array.filter(i => i % 2 === 0).sort((a, b) => (b - a))[0];
}

function find_min_id_even(array) {
    return array.filter((item, index) => index % 2 === 0).sort((a, b) => (a - b))[0];
}

function swap(array, a, b) {
    let i_a = array.indexOf(a);
    let i_b = array.indexOf(b);
    array[i_a] = b;
    array[i_b] = a;
    return array;
}

function insertion_sort(array) {
    let n = array.length;
    for (let i = 1; i < n; ++i) {
        let key = array[i];
        let j = i - 1;
        while (j >= 0 && array[j] > key) {
            array[j + 1] = array[j];
            j = j - 1;
        }
        array[j + 1] = key;
    }
    return array;
}
</code>
</pre>
<h3>Арсенюк Дмитро</h3>
</body>
</html>